<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<style>
 			* { margin: 0; overflow: hidden;}
		</style>
	</head>
<body>
	<center>
	<canvas id="c"></canvas>
	</center>
	<script>
		var canvas = document.getElementById('c');
		var ctx = canvas.getContext('2d');
			ctx.fillStyle = "black";

		var width = canvas.width = document.documentElement.clientWidth;
		var height = canvas.height = document.documentElement.clientHeight;

		var count = 500; // prompt("Enter number of object: ");

		var offsetAngle = 360 / count;
		var radian = Math.PI / 180;

		var size = 30;

		var attachLeft = width - size;
		var attachBottom = height - size;


		var timerId = setInterval(doIt, 10)
		var rW = 0, rH = 0;

		var rects = {};

		function doIt() {
			ctx.clearRect(0, 0, width, height);

			for (var i = 0; i < count; i++) {

				var angle = (offsetAngle * i) * radian;
				var x = Math.sin(angle) * rW * Math.cos(angle * 10);
				var y = Math.cos(angle) * rH * Math.sin(angle);

				x;
				y += height / 2;


				ctx.fillRect(x, y, size, size);
			}

			for (var i in rects)
				ctx.fillRect(rects[i].x, rects[i].y, size, size);

			rW += 1;
			rH += 1;
		}

	</script>

</body>
</html>
