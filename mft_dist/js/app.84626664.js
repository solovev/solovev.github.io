(function(t){function e(e){for(var i,s,o=e[0],c=e[1],u=e[2],d=0,h=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&h.push(r[s][0]),r[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(h.length)h.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},r={app:0},a=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/mft_dist/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"11b7":function(t,e,n){},1804:function(t){t.exports=JSON.parse('{"A":[{"id":"1","name":"Antenna_RAN","description":"Антенна радиодоступа (прямоугольник на АМС). Сектор 1","type":"Antenna_RAN","baseType":"Antenna","resourceCharacteristic":[{"name":"mountHeight","valueType":"meters","value":"25"},{"name":"tiltAngle","valueType":"degree","value":"3"},{"name":"azimuth","valueType":"degree","value":"150","description":"угол \'зеленой\' секции"}],"resourceRelationship":[{"id":"101","relationshipType":"refersTo"}]},{"id":"2","type":"Antenna_RAN","description":"Антенна радиодоступа (прямоугольник на АМС). Сектор 2","baseType":"Antenna","resourceCharacteristic":[{"name":"mountHeight","value":"25"},{"name":"tiltAngle","value":"3"},{"name":"azimuth","valueType":"degree","value":"0"}],"resourceRelationship":[{"id":"101","relationshipType":"refersTo"}]},{"id":"3","type":"Antenna_RAN","description":"Антенна радиодоступа (прямоугольник на АМС). Сектор 3","baseType":"Antenna","resourceCharacteristic":[{"name":"mountHeight","value":"25"},{"name":"tiltAngle","value":"3"},{"name":"azimuth","valueType":"degree","value":"30"}],"resourceRelationship":[{"id":"101","relationshipType":"refersTo"}]},{"id":"10","type":"AMC","description":"Антенно-мачтовое сооружение","resourceCharacteristic":[{"name":"constructionType","value":"REINFORCED_CONCRETE"},{"name":"groundingType","value":"BUILDING"},{"name":"height","value":"30"}],"resourceRelationship":[{"id":"100","relationshipType":"refersTo"},{"id":"101","relationshipType":"refersTo"}]},{"id":"100","description":"Площадка, отрисовываемая на карте по координатам","type":"Site","baseType":"Resource","name":"Жуков 55","resourceCharacteristic":[{"name":"siteAddress","value":"Ленинградская обл., г. Санкт-Петербург, пр. Маршала Жукова, 55"},{"name":"siteNumber","value":"900055"},{"name":"latitude","value":"59.94966856"},{"name":"longitude","value":"30.26677609"}],"resourceRelationship":[{"id":"10","relationshipType":"refersTo"},{"id":"101","relationshipType":"refersTo"},{"id":"103","relationshipType":"refersTo"},{"id":"111","relationshipType":"refersTo"},{"id":"114","relationshipType":"refersTo"}]},{"id":"101","description":"Базовая станция","type":"BaseStation","name":"Жуков 55-1","resourceCharacteristic":[{"name":"coverType","value":"INDOOR"},{"name":"cabinetType","value":["LTE","3G"]}],"resourceRelationship":[{"id":"1","relationshipType":"refersTo"},{"id":"2","relationshipType":"refersTo"},{"id":"3","relationshipType":"refersTo"},{"id":"10","relationshipType":"refersTo"},{"id":"100","relationshipType":"refersTo"}]},{"id":"102","type":"AMC","description":"Антенно-мачтовое сооружение","resourceCharacteristic":[{"name":"constructionType","value":"MAIN_CONCRETE"},{"name":"groundingType","value":"GROUND"},{"name":"height","value":"30"}],"resourceRelationship":[{"id":"100","relationshipType":"refersTo"},{"id":"103","relationshipType":"refersTo"}]},{"id":"103","description":"Базовая станция","type":"BaseStation","name":"Station 2","resourceCharacteristic":[{"name":"coverType","value":"OUTDOOR"},{"name":"cabinetType","value":["3G","2G"]}],"resourceRelationship":[{"id":"100","relationshipType":"refersTo"},{"id":"102","relationshipType":"refersTo"},{"id":"104","relationshipType":"refersTo"},{"id":"105","relationshipType":"refersTo"},{"id":"106","relationshipType":"refersTo"},{"id":"107","relationshipType":"refersTo"},{"id":"108","relationshipType":"refersTo"},{"id":"109","relationshipType":"refersTo"}]},{"id":"104","name":"Antenna_RAN","description":"Антенна радиодоступа (прямоугольник на АМС). Сектор 1","type":"Antenna_RAN","baseType":"Antenna","resourceCharacteristic":[{"name":"mountHeight","valueType":"meters","value":8},{"name":"tiltAngle","valueType":"degree","value":2},{"name":"azimuth","valueType":"degree","value":-175}],"resourceRelationship":[{"id":"103","relationshipType":"refersTo"}]},{"id":"105","name":"Antenna_RAN","description":"Антенна радиодоступа (прямоугольник на АМС). Сектор 2","type":"Antenna_RAN","baseType":"Antenna","resourceCharacteristic":[{"name":"mountHeight","valueType":"meters","value":2},{"name":"tiltAngle","valueType":"degree","value":8},{"name":"azimuth","valueType":"degree","value":142}],"resourceRelationship":[{"id":"103","relationshipType":"refersTo"}]},{"id":"106","name":"Antenna_RAN","description":"Антенна радиодоступа (прямоугольник на АМС). Сектор 3","type":"Antenna_RAN","baseType":"Antenna","resourceCharacteristic":[{"name":"mountHeight","valueType":"meters","value":18},{"name":"tiltAngle","valueType":"degree","value":9},{"name":"azimuth","valueType":"degree","value":196}],"resourceRelationship":[{"id":"103","relationshipType":"refersTo"}]},{"id":"107","name":"Antenna_RAN","description":"Антенна радиодоступа (прямоугольник на АМС). Сектор 4","type":"Antenna_RAN","baseType":"Antenna","resourceCharacteristic":[{"name":"mountHeight","valueType":"meters","value":28},{"name":"tiltAngle","valueType":"degree","value":3},{"name":"azimuth","valueType":"degree","value":-36}],"resourceRelationship":[{"id":"103","relationshipType":"refersTo"}]},{"id":"108","name":"Antenna_RAN","description":"Антенна радиодоступа (прямоугольник на АМС). Сектор 5","type":"Antenna_RAN","baseType":"Antenna","resourceCharacteristic":[{"name":"mountHeight","valueType":"meters","value":10},{"name":"tiltAngle","valueType":"degree","value":2},{"name":"azimuth","valueType":"degree","value":151}],"resourceRelationship":[{"id":"103","relationshipType":"refersTo"}]},{"id":"109","name":"Antenna_RAN","description":"Антенна радиодоступа (прямоугольник на АМС). Сектор 6","type":"Antenna_RAN","baseType":"Antenna","resourceCharacteristic":[{"name":"mountHeight","valueType":"meters","value":6},{"name":"tiltAngle","valueType":"degree","value":6},{"name":"azimuth","valueType":"degree","value":33}],"resourceRelationship":[{"id":"103","relationshipType":"refersTo"}]},{"id":"110","type":"AMC","description":"Антенно-мачтовое сооружение","resourceCharacteristic":[{"name":"constructionType","value":"REINFORCED_CONCRETE"},{"name":"groundingType","value":"BUILDING"},{"name":"height","value":"30"}],"resourceRelationship":[{"id":"100","relationshipType":"refersTo"},{"id":"111","relationshipType":"refersTo"}]},{"id":"111","description":"Базовая станция","type":"BaseStation","name":"Station 3","resourceCharacteristic":[{"name":"coverType","value":"OUTDOOR"},{"name":"cabinetType","value":["3G","LTE","5G"]}],"resourceRelationship":[{"id":"100","relationshipType":"refersTo"},{"id":"110","relationshipType":"refersTo"},{"id":"112","relationshipType":"refersTo"}]},{"id":"112","name":"Antenna_RAN","description":"Антенна радиодоступа (прямоугольник на АМС). Сектор 1","type":"Antenna_RAN","baseType":"Antenna","resourceCharacteristic":[{"name":"mountHeight","valueType":"meters","value":25},{"name":"tiltAngle","valueType":"degree","value":2},{"name":"azimuth","valueType":"degree","value":335}],"resourceRelationship":[{"id":"111","relationshipType":"refersTo"}]},{"id":"114","description":"Базовая станция","type":"BaseStation","name":"Station 4","resourceCharacteristic":[{"name":"coverType","value":"INDOOR"},{"name":"cabinetType","value":["3G","2G"]}],"resourceRelationship":[{"id":"100","relationshipType":"refersTo"},{"id":"113","relationshipType":"refersTo"}]},{"id":"113","type":"AMC","description":"Антенно-мачтовое сооружение","resourceCharacteristic":[{"name":"constructionType","value":"REINFORCED_CONCRETE"},{"name":"groundingType","value":"GROUND"},{"name":"height","value":"30"}],"resourceRelationship":[{"id":"100","relationshipType":"refersTo"},{"id":"114","relationshipType":"refersTo"}]}]}')},"1c76":function(t,e,n){"use strict";var i=n("a93a"),r=n.n(i);r.a},"1d1e":function(t,e,n){"use strict";var i=n("c905"),r=n.n(i);r.a},"2ec2":function(t,e,n){"use strict";var i=n("74bd"),r=n.n(i);r.a},4592:function(t,e,n){"use strict";var i=n("9961"),r=n.n(i);r.a},5463:function(t,e,n){"use strict";var i=n("11b7"),r=n.n(i);r.a},"56d7":function(t,e,n){"use strict";n.r(e),n.d(e,"randomValue",(function(){return Je})),n.d(e,"getResource",(function(){return Fe})),n.d(e,"setResource",(function(){return Ke}));var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row",attrs:{id:"app"}},[n("div",{staticClass:"column column--center"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.siteData,expression:"siteData"}],attrs:{spellcheck:"false"},domProps:{value:t.siteData},on:{input:function(e){e.target.composing||(t.siteData=e.target.value)}}})]),n("div",{staticClass:"column column--center site-wrapper"},[n("div",{staticClass:"row"},[n("ul",{staticClass:"row site-picker",attrs:{"data-caption":"Sites:"}},t._l(t.siteKeys.length>0?t.siteKeys:["A"],(function(e){return n("li",{key:e,staticClass:"button",class:{selected:e===t.selectedSite},attrs:{name:e,"data-caption":e},on:{click:function(n){return t.$store.dispatch("selectSite",e)}}})})),0),n("div",{staticClass:"row"},[n("div",{staticClass:"button",on:{click:function(e){return t.$store.dispatch("createStation")}}},[t._v("+ Station")]),n("div",{staticClass:"button",on:{click:function(e){return t.$store.dispatch("removeStation")}}},[t._v("- Station")])]),n("div",{staticClass:"row",staticStyle:{"margin-left":"16px"}},[n("div",{staticClass:"button",on:{click:function(e){return t.$store.dispatch("createAntenna")}}},[t._v("+ Antenna")]),n("div",{staticClass:"button",on:{click:function(e){return t.$store.dispatch("removeAntenna")}}},[t._v("- Antenna")])])]),n("Site"),n("Settings")],1)])},a=[],s=n("2f62"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"site"},[n("div",{staticClass:"site__header"},[t._v("Site "+t._s(t.siteKey))]),n("div",{staticClass:"site__content"},[n("div",{staticClass:"row header"},[n("h2",{staticClass:"item-shrink ellipsis"},[t._v("Площадка "+t._s(t.site.name||"..."))]),n(t.coverTypeIcon,{tag:"component",staticClass:"snuggle-right item-solid",attrs:{width:"26",height:"26"}})],1),n("div",{staticClass:"location-data"},[n("div",{staticClass:"row"},[n("div",{staticClass:"ellipsis"},[t._v("№ "+t._s(t.siteNumber||"...")+" "+t._s(t.siteAddress.address))]),t.siteLocation.latitude?n("div",{staticClass:"snuggle-right item-solid"},[t._v(t._s(t.siteLocation.latitude))]):t._e()]),n("div",{staticClass:"row"},[n("div",{staticClass:"location-data__town ellipsis",domProps:{textContent:t._s(t.siteAddress.town||"...")}}),t.siteLocation.longitude?n("div",{staticClass:"snuggle-right item-solid"},[t._v(t._s(t.siteLocation.longitude))]):t._e()])]),n("div",{staticClass:"main-data row"},[n("div",{staticClass:"site__scheme"},[n("site-scheme",{attrs:{siteKey:t.siteKey}})],1),n("div",{staticClass:"site__params column"},[n("station-picker"),n("sector-selector",{attrs:{antennas:t.antennas}}),n("communication-list",{attrs:{dummy:!t.antennas.length}})],1)])])])},c=[],u=function(t,e){var n=e._c;return n("svg",{class:e.data.staticClass||"",attrs:{fill:"none",version:"1.1",viewBox:"0 0 17.2 15.2",xmlns:"http://www.w3.org/2000/svg",width:e.props.width,height:e.props.height}},[n("path",{staticClass:"stroke",attrs:{d:"m6.6 14.6h-6v-10m6 10v-10m0 10h3.5v-4.5c0-0.828 0.67-1.5 1.5-1.5v0c0.83 0 1.5 0.672 1.5 1.5v4.5h3.5v-10l-5-4m-5 4h-6m6 0 5-4m-11 4 5-4h6",stroke:e.props.stroke,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.2"}}),e._v("/> ")])},l=[],d={functional:!0,name:"IndoorIcon",props:{width:String,height:String,stroke:String}},h=d,p=n("2877"),f=Object(p["a"])(h,u,l,!0,null,null,null),m=f.exports,v=function(t,e){var n=e._c;return n("svg",{class:e.data.staticClass||"",attrs:{fill:"none",version:"1.1",viewBox:"0 0 21.2 21.2",xmlns:"http://www.w3.org/2000/svg",width:e.props.width,height:e.props.height}},[n("path",{staticClass:"stroke",attrs:{d:"m10.6 2.1v-1.5m0 18.5v1.5m8.5-10h1.5m-18.5 0h-1.5m16-6 1-1m-1 13 1 1m-13-13-1-1m1 13-1 1m13-7c0 3.314-2.69 6-6 6s-6-2.686-6-6c0-3.314 2.69-6 6-6s6 2.686 6 6z",stroke:e.props.stroke,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.2"}})])},g=[],y={functional:!0,name:"OutdoorIcon",props:{width:String,height:String}},b=y,O=Object(p["a"])(b,v,g,!0,null,null,null),T=O.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"picker"},[n("ul",{staticClass:"row"},[t._l(t.stations||[],(function(e,i){return n("li",{key:e.id,class:{selected:t.value===i},attrs:{title:e.name},on:{click:function(e){return t.handleClick(i)}}})})),t.stations&&0!==t.stations.length?t._e():n("li",{staticClass:"placeholder"})],2),n("div",{staticClass:"picker__description row",attrs:{"data-counter":t.currentNumber+"/"+t.stations.length}},[n("h3",{staticClass:"ellipsis"},[t._v(t._s(t.currentStation.name||"..."))])])])},A=[];function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x={name:"StationPicker",computed:j(j(j({},Object(s["c"])({value:"selectedStationIndex"})),Object(s["b"])(["stations"])),{},{currentStation:function(){return this.stations[this.value]||{}},currentNumber:function(){return this.stations&&0!==this.stations.length?this.value+1:0}}),methods:{handleClick:function(t){this.$store.dispatch("selectStation",t)}}},S=x,R=(n("5463"),Object(p["a"])(S,C,A,!1,null,"60d2f940",null)),P=R.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"communication-list row row--center"},t._l(t.list,(function(e){return n("li",{key:e,class:{active:t.isActive(e),dummy:t.dummy},style:t.isActive(e)&&"LTE"===e&&{"background-color":t.selectedColor}},[t._v(t._s(e))])})),0)},k=[];function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){M(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E={name:"CommunicationList",props:{activeStandards:Array,dummy:Boolean},created:function(){this.list=["2G","3G","LTE","5G"]},computed:I(I({},Object(s["b"])(["station"])),{},{selectedColor:function(){return this.$getColor(this.$store.state.selectedAntennaIndex||0)},cabinetType:function(){return this.$getResource(this.station,"cabinetType",["3G"])}}),methods:{isActive:function(t){return this.cabinetType.indexOf(t)>=0}}},$=E,H=(n("4592"),Object(p["a"])($,N,k,!1,null,"84f5f03a",null)),L=H.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"selector row"},[n("svg",{staticClass:"item-solid",attrs:{width:this.size+"px",height:this.size+"px"}},[t._l(t.list,(function(e,i){return n("path",{key:e.id,staticClass:"sector",class:{selected:t.value===i},attrs:{d:t.pathes[i],fill:t.$getColor(i),"data-azimuth":t.angles[i]},on:{click:function(e){return t.move(i)},mouseenter:function(e){return t.handleSectorHover(e)},mouseleave:function(e){return t.handleSectorHover(e)}}},[e.description?n("title",[t._v(t._s(e.description))]):t._e()])})),t.empty?t._l(3,(function(e){return n("path",{key:e,staticClass:"faded",attrs:{d:t.getPath(60*e,t.sectorRadius,80)}})})):t._e(),n("circle",{class:{faded:t.empty},attrs:{cx:this.size/2,cy:this.size/2,r:this.size/11}})],2),n("div",{staticClass:"selector__info"},[n("div",{staticClass:"row"},[n("div",{staticClass:"move",class:{"move--hidden":t.empty||0===t.value},on:{click:function(e){return t.move(t.value-1)}}},[t._v("◂")]),n("div",{staticClass:"ellipsis item-stretch text-center"},[t._v("Сектор "+t._s(t.selectedAntenna.id||"..."))]),n("div",{staticClass:"move",class:{"move--hidden":t.empty||t.value===t.list.length-1},on:{click:function(e){return t.move(t.value+1)}}},[t._v("▸")])]),n("div",{staticClass:"row data-row"},[n("svg",{staticClass:"item-solid",attrs:{viewBox:"0 0 10.2 10.2"}},[n("path",{attrs:{d:"m8.6 5.6c0 2.21-1.79 4-4 4s-4-1.79-4-4 1.79-4 4-4 4 1.79 4 4z",fill:"#11df71"}}),n("path",{attrs:{d:"m4.6 5.6 5-5m-1 5c0 2.21-1.79 4-4 4s-4-1.79-4-4 1.79-4 4-4 4 1.79 4 4z",stroke:"#2c2c2c","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.2"}})]),n("div",{staticClass:"snuggle-right"},[t._v(t._s(t.antennaInfo.azimuth)+"°")])]),n("div",{staticClass:"row data-row"},[n("svg",{staticClass:"item-solid",attrs:{viewBox:"0 0 9.2 9.2"}},[n("path",{attrs:{d:"m0.6 7.6v-4.33c2.95 0 5.33 2.38 5.33 5.33h-4.33c-0.55 0-1-0.45-1-1z",fill:"#ffb932"}}),n("path",{attrs:{d:"m0.6 0.6v7c0 0.55 0.45 1 1 1h7m-8-5.33c2.95 0 5.33 2.38 5.33 5.33",stroke:"#2c2c2c","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.2"}})]),n("div",{staticClass:"snuggle-right"},[t._v(t._s(t.antennaInfo.tiltAngle)+"°")])]),n("div",{staticClass:"row data-row"},[n("svg",{staticClass:"item-solid",attrs:{viewBox:"0 0 7.2 10.2"}},[n("path",{attrs:{d:"m3.6 0.6h-3m3 0h3m-3 0v9m-3 0h3m3 0h-3",stroke:"#2c2c2c","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.2"}})]),n("div",{staticClass:"snuggle-right"},[t._v(t._s(t.antennaInfo.mountHeight)+" m")])])])])},G=[],U=n("589d"),B=n.n(U),X=function(t,e,n,i){var r=(i-90)*Math.PI/180;return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}},J={name:"SectorSelector",props:{antennas:Array},created:function(){this.size=75,this.sectorRadius=this.size/3,this.selectedSectorRadius=this.size/2.5},computed:{value:function(){return this.$store.state.selectedAntennaIndex},empty:function(){return!this.list.length},list:function(){return this.antennas||[]},angles:function(){var t=this;return this.list.map((function(e){return t.$getResource(e,"azimuth")}))},pathes:function(){var t=this;return this.angles.map((function(e,n){var i=t.sectorRadius;return n===t.value&&(i=t.selectedSectorRadius),t.getPath(e,i)}))},selectedAntenna:function(){return this.list[this.value]||{}},antennaInfo:function(){return{tiltAngle:(+this.$getResource(this.selectedAntenna,"tiltAngle",0)).toFixed(1),azimuth:(+this.$getResource(this.selectedAntenna,"azimuth",0)).toFixed(1),mountHeight:this.$getResource(this.selectedAntenna,"mountHeight",0)}}},methods:{move:function(t){this.$store.dispatch("selectAntenna",Math.max(0,Math.min(t,this.list.length-1)))},handleSectorHover:function(t){var e=this,n=t.type,i=t.target,r=i.getAttribute("data-azimuth");if(r){var a=i.classList.contains("selected");if(!a){var s="mouseenter"===n;s?(B()(i,"finish"),B()(i,{tween:[this.selectedSectorRadius,this.sectorRadius]},{duration:150,progress:function(t,n,i,a,s){var o=e.getPath(r,s);t[0].setAttribute("d",o)}})):B()(i,"reverse")}}},getPath:function(t,e,n){n=n||60;var i=2;t=2*t-n/2;var r=t+i,a=t+n-i,s=this.size/2,o=this.size/2;e=e||this.sectorRadius;var c=X(s,o,e,a),u=X(s,o,e,r),l=a-r<=180?"0":"1",d=["M",c.x,c.y,"A",e,e,0,l,0,u.x,u.y,"L",s,o,"L",c.x,c.y].join(" ");return d}}},F=J,K=(n("1d1e"),Object(p["a"])(F,z,G,!1,null,"0eeeb823",null)),Y=K.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"site-scheme",attrs:{width:"100%",height:"100%",fill:"none",version:"1.1",viewBox:"20.5 0 290 250",xmlns:"http://www.w3.org/2000/svg"}},[t._l(t.heightPoints,(function(e,i){return n("g",{key:e.offset+"_"+i},[e.line?n("line",{attrs:{x1:t.pointCaptionXOffset,y1:e.offset,x2:t.pointCaptionXOffset+256,y2:e.offset}}):t._e(),n("text",{staticClass:"overlay",attrs:{x:t.pointCaptionXOffset,y:e.offset+1.5}},[t._v(t._s(e.value))]),n("text",{attrs:{x:t.pointCaptionXOffset,y:e.offset+1.5}},[t._v(t._s(e.value))])])})),n("path",{attrs:{id:"heightAxis",d:t.axisPath}}),n("g",{attrs:{transform:"translate(0, 5)"}},[n(t.groundComponent,{tag:"component"})],1),n("g",{attrs:{transform:"translate(21.75, 6.05)"}},[n("path",{staticClass:"dummy",attrs:{id:"layout",d:"m112.09 41.161 25.788 37.69m-25.788-37.69v-17.853m0 17.853h25.788m-25.788 0 51.575 26.779m-51.575-26.779v26.779m51.575-26.779-25.788 37.69m25.788-37.69v-17.853m0 17.853h-25.788m25.788 0-51.575 26.779m51.575-26.779v26.779m-25.788 10.91 25.788-10.91m-25.788 10.91-25.788-10.91m25.788 10.91v3.9673m0-3.9673v-37.69m0 0v-17.853m-25.788 44.632h51.575m-51.575 0v14.877m51.575-14.877v14.877"}}),n(t.constructionComponent,{tag:"component",class:{dummy:!t.amc}}),t.amc?n("g",{attrs:{id:"basis",transform:"matrix(.99183 0 0 .99183 82.728 22.812)",fill:"none"}},[n("path",{attrs:{d:"m29.6 45.5 26 11 26-11z"}}),n("path",{attrs:{d:"m81.6 45.5-26.029-13.592-25.971 13.592z"}})]):t._e()],1),t.antennas.length>=2?n("g",[n("g",{attrs:{id:"LC"}},[n("line",{staticClass:"construct",attrs:{x1:t.allPivots[0],y1:47.25,x2:t.allPivots[1],y2:47.25}}),n("line",{staticClass:"construct",attrs:{x1:t.allPivots[0],y1:47,x2:t.allPivots[1],y2:60.55}}),n("line",{staticClass:"construct",attrs:{x1:t.allPivots[0],y1:47,x2:t.allPivots[1],y2:84.76}})]),n("g",{attrs:{id:"RC"}},[n("line",{staticClass:"construct",attrs:{x1:t.allPivots[2],y1:47.25,x2:t.allPivots[1],y2:47.25}}),n("line",{staticClass:"construct",attrs:{x1:t.allPivots[2],y1:47,x2:t.allPivots[1],y2:60.55}}),n("line",{staticClass:"construct",attrs:{x1:t.allPivots[2],y1:47,x2:t.allPivots[1],y2:84.76}})])]):t._e(),t._l(t.antennas,(function(e,i){return n("g",{key:e.id+"_"+i},[i<3?n("line",{staticClass:"construct",attrs:{x1:t.pivots[i%3],y1:27.26,x2:t.pivots[i%3],y2:84.76}}):t._e(),n("antenna-object",{attrs:{index:i,width:t.antennaObjectWidth,height:t.antennaObjectHeight,offsetX:t.pivots[i%3],offsetY:t.antennasHeightPoints[i].offset,color:t.$getColor(i),description:e.description}})],1)}))],2)},W=[],q=function(t,e){var n=e._c;return n("path",{attrs:{id:"none_concrete",d:"m282.09 239.16h-200m12.039 0-4.388 5m28.958-5-4.388 5m28.958-5-4.388 5m28.958-5-4.388 5m28.958-5-4.388 5m28.958-5-4.388 5m28.959-5-4.389 5m28.959-5-4.39 5","stroke-dasharray":"2 5"}})},Q=[],Z={functional:!0,name:"CTNone"},tt=Z,et=Object(p["a"])(tt,q,Q,!0,null,null,null),nt=et.exports,it=function(t,e){var n=e._c;return n("path",{attrs:{id:"main_concrete",d:"m282.09 239.16h-200m12.04 0-4.39 5m28.96-5-4.39 5m28.96-5-4.39 5m28.96-5-4.39 5m28.96-5-4.39 5m28.96-5-4.39 5m28.96-5-4.39 5m28.96-5-4.39 5"}})},rt=[],at={functional:!0,name:"CTMain"},st=at,ot=Object(p["a"])(st,it,rt,!0,null,null,null),ct=ot.exports,ut=function(t,e){var n=e._c;return n("g",{attrs:{id:"reinforced_concrete"}},[n("path",{attrs:{d:"m81.548 239.16h200"}}),n("path",{attrs:{d:"m81.548 239.16v1c0 2.21 1.791 4 4 4s4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m89.548 239.16v1c0 2.21 1.791 4 4 4s4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m97.548 239.16v1c0 2.21 1.791 4 4 4 2.209 0 4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m105.55 239.16v1c0 2.21 1.791 4 4 4s4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m113.55 239.16v1c0 2.21 1.791 4 4 4s4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m121.55 239.16v1c0 2.21 1.791 4 4 4s4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m129.55 239.16v1c0 2.21 1.791 4 4 4s4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m137.55 239.16v1c0 2.21 1.791 4 4 4s4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m145.55 239.16v1c0 2.21 1.791 4 4 4s4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m153.55 239.16v1c0 2.21 1.791 4 4 4s4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m161.55 239.16v1c0 2.21 1.791 4 4 4s4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m169.55 239.16v1c0 2.21 1.791 4 4 4s4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m177.55 239.16v1c0 2.21 1.791 4 4 4s4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m185.55 239.16v1c0 2.21 1.791 4 4 4s4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m193.55 239.16v1c0 2.21 1.791 4 4 4s4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m201.55 239.16v1c0 2.21 1.791 4 4 4s4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m209.55 239.16v1c0 2.21 1.791 4 4 4s4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m217.55 239.16v1c0 2.21 1.791 4 4 4 2.209 0 4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m225.55 239.16v1c0 2.21 1.791 4 4 4s4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m233.55 239.16v1c0 2.21 1.791 4 4 4s4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m241.55 239.16v1c0 2.21 1.791 4 4 4s4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m249.55 239.16v1c0 2.21 1.791 4 4 4s4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m257.55 239.16v1c0 2.21 1.791 4 4 4 2.21 0 4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m265.55 239.16v1c0 2.21 1.79 4 4 4s4-1.79 4-4v-1"}}),n("path",{attrs:{d:"m273.55 239.16v1c0 2.21 1.79 4 4 4s4-1.79 4-4v-1"}})])},lt=[],dt={functional:!0,name:"CTReinforced"},ht=dt,pt=Object(p["a"])(ht,ut,lt,!0,null,null,null),ft=pt.exports,mt=function(t,e){var n=e._c;return n("path",{class:[e.data.class,e.data.staticClass],attrs:{id:"building",d:"m137.87 78.851-13.638 36.767m13.638-36.767 13.638 36.767m-13.638-36.767v82.887m0 70.847v-30.082m54.551 23.397-13.638-36.757m-95.464 36.757 13.638-36.757m68.188-36.767-13.638-36.757m13.638 36.757 13.638 36.767m-13.638-36.767-27.275 9.3629m-27.275-9.3629 13.638-36.757m-13.638 36.757-13.638 36.767m13.638-36.767 27.275 9.3629m-13.638-46.12 13.638 5.346 13.638-5.346m-54.551 73.524 40.913 13.36m40.913-13.36-40.913 13.36m0 0v-40.764"}})},vt=[],gt={functional:!0,name:"GTBuilding"},yt=gt,bt=Object(p["a"])(yt,mt,vt,!0,null,null,null),Ot=bt.exports,Tt=function(t,e){var n=e._c;return n("g",{class:[e.data.class,e.data.staticClass],attrs:{id:"ground",transform:"matrix(.99183 0 0 .99183 82.728 22.812)"}},[n("path",{attrs:{d:"m52.6 54.54v124.08l3 1.96m-3-126.04 3 1.96m-3-1.96 3-1.96 3 1.96v124.08l-3 1.96m3-126.04-3 1.96v124.08"}}),n("path",{attrs:{d:"m61.6 179.2c0 1.74-2.686 3.16-6 3.16s-6-1.42-6-3.16m12 0v25.23c0 1.74-2.686 3.15-6 3.15s-6-1.41-6-3.15v-25.23m12 0c0-1.09-1.059-2.05-2.667-2.62m-9.333 2.62c0-1.09 1.059-2.05 2.667-2.62"}})])},Ct=[],At={functional:!0,name:"GTGround"},wt=At,jt=Object(p["a"])(wt,Tt,Ct,!0,null,null,null),_t=jt.exports,xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("rect",{staticClass:"antenna",class:{selected:t.isSelected},attrs:{x:t.offsetX-t.width*t.scale/2,y:t.offsetY-t.height*t.scale/2,width:t.width*t.scale,height:t.height*t.scale,fill:t.color,rx:"2"},on:{mouseenter:t.handleHover,mouseleave:t.handleHover,click:function(e){return t.$store.dispatch("selectAntenna",t.index)}}},[t.description?n("title",[t._v(t._s(t.description))]):t._e()])},St=[];function Rt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Rt(Object(n),!0).forEach((function(e){Nt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var kt={name:"AntennaObject",props:{index:Number,width:Number,height:Number,offsetX:Number,offsetY:Number,color:String,description:String},watch:{isSelected:{handler:function(t,e){!e&&t?this.scale=1.2:e&&!t&&(this.scale=1)},immediate:!0}},data:function(){return{scale:1}},created:function(){},computed:Pt(Pt({},Object(s["c"])(["selectedAntennaIndex"])),{},{isSelected:function(){return this.index===this.selectedAntennaIndex}}),methods:{handleHover:function(t){var e=this,n=t.target,i=t.type,r="mouseenter"===i;this.isSelected||(r?(B()(n,"finish"),B()(n,{tween:[1.2,1]},{duration:150,progress:function(t,n,i,r,a){e.scale=a}})):B()(n,"reverse"))}}},Dt=kt,It=Object(p["a"])(Dt,xt,St,!1,null,null,null),Mt=It.exports;function Et(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Lt(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw a}}}}function $t(t){return Gt(t)||zt(t)||Lt(t)||Ht()}function Ht(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Lt(t,e){if(t){if("string"===typeof t)return Ut(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ut(t,e):void 0}}function zt(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function Gt(t){if(Array.isArray(t))return Ut(t)}function Ut(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Bt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bt(Object(n),!0).forEach((function(e){Jt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Jt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ft={name:"SiteScheme",components:{"ct-none":nt,"ct-main":ct,"ct-reinforced":ft,"gt-building":Ot,"gt-ground":_t,AntennaObject:Mt},props:{siteKey:String},created:function(){this.pointCaptionXOffset=28,this.axisLength=235,this.startAxisX=21.096,this.startAxisY=238.93,this.antennaObjectWidth=8,this.antennaObjectHeight=2*this.antennaObjectWidth,this.allPivots=[];for(var t=0;t<3;t++)this.allPivots[t]=133.65+26*t},computed:Xt(Xt({},Object(s["b"])(["amc","antennas"])),{},{pivots:function(){var t=$t(this.allPivots);return 1===this.antennas.length?[t[1]]:2===this.antennas.length?[t[0],t[2]]:t},axisPath:function(){var t,e="M".concat(this.startAxisX," ").concat(this.startAxisY,"v-").concat(this.axisLength),n=Et(this.heightPoints);try{for(n.s();!(t=n.n()).done;){var i=t.value.offset;e+=" M".concat(this.startAxisX," ").concat(i,"h2")}}catch(r){n.e(r)}finally{n.f()}return e},amcHeight:function(){return this.$getResource(this.amc,"height",0)},heightPoints:function(){var t=[{offset:this.createPoint(0).offset,value:this.amc?"100 m":"0 m"}];this.amc||t.push({offset:this.createPoint(25).offset,value:"0 m",line:!0});var e,n=function(e){return!!t.find((function(t){return t.value===e}))},i=Et(this.antennasHeightPoints);try{for(i.s();!(e=i.n()).done;){var r=e.value;!n(r.value)&&t.push(r)}}catch(a){i.e(a)}finally{i.f()}return t.push({offset:this.createPoint(this.amcHeight||30).offset,value:"".concat(this.amcHeight," m AMC"),line:!0}),t},antennasHeightPoints:function(){return this.antennasHeights.map(this.createPoint)},constructionComponent:function(){var t=(this.$getResource(this.amc,"groundingType")||"").toLowerCase();switch(t){case"ground":return"gt-ground"}return"gt-building"},groundComponent:function(){var t=(this.$getResource(this.amc,"constructionType","none_concrete")||"").toLowerCase();switch(t){case"reinforced_concrete":return"ct-reinforced";case"main_concrete":return"ct-main"}return"ct-none"},antennasHeights:function(){var t=this;return this.antennas.map((function(e){return t.$getResource(e,"mountHeight",0)}))}}),methods:{valueToOffset:function(t){var e=this.amcHeight||30;if(!e)return 0;var n=this.axisLength-5;return t=Math.min(t,e),n-t/e*n+(this.startAxisY-n)},createPoint:function(t){return{value:t+" m",offset:this.valueToOffset(t),line:!0}}}},Kt=Ft,Yt=(n("2ec2"),Object(p["a"])(Kt,V,W,!1,null,"34d3e426",null)),Vt=Yt.exports;function Wt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wt(Object(n),!0).forEach((function(e){Qt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Qt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zt={name:"Site",components:{IndoorIcon:m,OutdoorIcon:T,StationPicker:P,CommunicationList:L,SectorSelector:Y,SiteScheme:Vt},computed:qt(qt(qt(qt({},Object(s["c"])(["selectedStationIndex"])),Object(s["c"])({siteKey:"selectedSite"})),Object(s["b"])(["site","station","antennas"])),{},{siteNumber:function(){return this.$getResource(this.site,"siteNumber")},siteLocation:function(){return{latitude:this.$getResource(this.site,"latitude",0),longitude:this.$getResource(this.site,"longitude",0)}},siteAddress:function(){var t=2,e=function(t){return t.trim()},n=function(t){return t.join(", ")},i=this.$getResource(this.site,"siteAddress",""),r=i.split(",").map(e),a=r.slice(Math.max(r.length-t,0)),s=r.slice(0,-t);return{town:n(s),address:n(a)}},stationCoverType:function(){return this.$getResource(this.station,"coverType","OUTDOOR")},coverTypeIcon:function(){return this.stationCoverType.toLowerCase()+"-icon"}})},te=Zt,ee=(n("1c76"),Object(p["a"])(te,o,c,!1,null,"5d37f017",null)),ne=ee.exports,ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings row"},[n("div",{staticClass:"settings__group",attrs:{"data-caption":"Station (#"+(t.selectedStationIndex+1)+")"}},[n("div",{staticClass:"option row",attrs:{"data-caption":"coverType:"}},[n("div",{staticClass:"button",class:{selected:"outdoor"===t.stationCoverType},on:{click:function(e){t.handleStationChanged("coverType","OUTDOOR".toLowerCase())}}},[t._v("OUTDOOR")]),n("div",{staticClass:"button",class:{selected:"indoor"===t.stationCoverType},on:{click:function(e){t.handleStationChanged("coverType","INDOOR".toLowerCase())}}},[t._v("INDOOR")])]),n("div",{staticClass:"option row",attrs:{"data-caption":"cabinetType:"}},t._l(["2G","3G","LTE","5G"],(function(e){return n("div",{key:e,staticClass:"button",class:{selected:t.stationCabinetType.indexOf(e)>=0},on:{click:function(n){return t.toggleCabinet(e)}}},[t._v(" "+t._s(e)+" ")])})),0)]),n("div",{staticClass:"settings__group",attrs:{"data-caption":"AMC (ID: "+t.amc.id+")"}},[n("div",{staticClass:"option row",attrs:{"data-caption":"height:"}},[n("slider",{attrs:{min:t.amcHeightMin,max:t.amcHeightMax,value:t.amcHeight},on:{input:function(e){return t.handleAMCChanged("height",e)}}})],1),n("div",{staticClass:"option row",attrs:{"data-caption":"constructionType:"}},[n("div",{staticClass:"button",class:{selected:"reinforced_concrete"===t.amcConstructionType},on:{click:function(e){t.handleAMCChanged("constructionType","reinforced_concrete".toLowerCase())}}},[t._v("REINFORCED")]),n("div",{staticClass:"button",class:{selected:"main_concrete"===t.amcConstructionType},on:{click:function(e){t.handleAMCChanged("constructionType","main_concrete".toLowerCase())}}},[t._v("MAIN")])]),n("div",{staticClass:"option row",attrs:{"data-caption":"groundingType:"}},[n("div",{staticClass:"button",class:{selected:"building"===t.amcGroundingType},on:{click:function(e){t.handleAMCChanged("groundingType","building".toLowerCase())}}},[t._v("BUILDING")]),n("div",{staticClass:"button",class:{selected:"ground"===t.amcGroundingType},on:{click:function(e){t.handleAMCChanged("groundingType","ground".toLowerCase())}}},[t._v("GROUND")])])]),n("div",{staticClass:"settings__group",attrs:{"data-caption":"Antenna (ID: "+(t.antenna.id||"?")+")"}},[n("div",{staticClass:"mark",style:{"background-color":t.$getColor(t.selectedAntennaIndex)}}),n("div",{staticClass:"option row",attrs:{"data-caption":"mountHeight:"}},[n("slider",{attrs:{min:t.antennaHeightMin,max:t.antennaHeightMax,value:t.antennaHeight},on:{input:function(e){return t.handleAntennaChanged("mountHeight",e)}}})],1),n("div",{staticClass:"option row",attrs:{"data-caption":"tiltAngle:"}},[n("slider",{attrs:{min:t.minAngle,max:t.maxAngle,value:t.antennaTiltAngle},on:{input:function(e){return t.handleAntennaChanged("tiltAngle",e)}}})],1),n("div",{staticClass:"option row",attrs:{"data-caption":"azimuth:"}},[n("slider",{attrs:{min:t.minAngle,max:t.maxAngle,value:t.antennaAzimuth},on:{input:function(e){return t.handleAntennaChanged("azimuth",e)}}})],1)])])},re=[],ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{padding:"15px "+t.paddingX+"px"},on:{mousedown:function(e){t.sliding=!0},mouseup:function(e){t.sliding=!1},mousemove:t.handleMove,mouseenter:t.handleMousePresense,mouseleave:t.handleMousePresense}},[n("div",{staticClass:"slider little-round",class:{big:t.max>9999},style:{width:t.width+"px"},attrs:{"data-min":t.min,"data-max":t.max}},[n("div",{ref:"thumb",staticClass:"thumb",style:{left:t.thumbX+"px"}},[n("div",{ref:"anc",attrs:{"data-description":t.value}},[t._v(t._s(t.valueLabel))])])])])},se=[],oe={name:"slider",props:{min:Number,max:Number,value:Number,width:{type:Number,default:200},step:{type:Number,default:1}},watch:{min:function(t){this.value<t&&this.$emit("input",t)},max:function(t){this.value>t&&this.$emit("input",t)}},data:function(){return{sliding:!1}},updated:function(){},computed:{valueLabel:function(){return this.value>9999?"∞":this.value>0&&this.value<.01?"~0":this.value},diff:function(){return this.min<0&&this.max>0?this.max+Math.abs(this.min):this.max-this.min},thumbX:function(){return(this.value-this.min)*(this.width/(this.max-this.min))}},created:function(){this.paddingX=10},mounted:function(){},methods:{handleMove:function(t){if(this.sliding){var e=t.offsetX,n=e-this.paddingX;this.xToVal(n)}},handleClick:function(t){t.stopPropagation();var e=t.offsetX;this.xToVal(e-this.paddingX)},xToVal:function(t){var e=t/this.width,n=e*this.diff+this.min,i=1/this.step;n=Math.round(n*i)/i,n=Math.max(this.min,Math.min(n,this.max)),this.$emit("input",n)},handleMousePresense:function(t){var e="mouseenter"===t.type;e||(this.sliding=!1)}}},ce=oe,ue=(n("ba70"),Object(p["a"])(ce,ae,se,!1,null,"2a57dce1",null)),le=ue.exports;function de(t){return me(t)||fe(t)||pe(t)||he()}function he(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pe(t,e){if(t){if("string"===typeof t)return ve(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(t,e):void 0}}function fe(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function me(t){if(Array.isArray(t))return ve(t)}function ve(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function ge(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ye(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ge(Object(n),!0).forEach((function(e){be(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function be(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Oe={name:"Settings",components:{Slider:le},created:function(){this.minAngle=-360,this.maxAngle=360},computed:ye(ye(ye({},Object(s["c"])(["selectedAntennaIndex","selectedStationIndex"])),Object(s["b"])(["amc","antenna","station"])),{},{stationCoverType:function(){return this.$getResource(this.station,"coverType","OUTDOOR").toLowerCase()},stationCabinetType:function(){return this.$getResource(this.station,"cabinetType",["3G"])},amcHeight:function(){return+this.$getResource(this.amc,"height","0")},amcConstructionType:function(){return this.$getResource(this.amc,"constructionType","REINFORCED_CONCRETE").toLowerCase()},amcGroundingType:function(){return this.$getResource(this.amc,"groundingType","BUILDING").toLowerCase()},amcHeightMax:function(){return Math.max(100,this.amcHeight)},amcHeightMin:function(){return Math.min(1,this.amcHeight)},antennaHeight:function(){return Math.min(this.antennaHeightMax,+this.$getResource(this.antenna,"mountHeight","0"))},antennaHeightMax:function(){return this.amcHeight},antennaHeightMin:function(){return Math.min(1,this.antennaHeight)},antennaTiltAngle:function(){return Math.min(this.maxAngle,Math.max(this.minAngle,+this.$getResource(this.antenna,"tiltAngle","0")))},antennaAzimuth:function(){return Math.min(this.maxAngle,Math.max(this.minAngle,+this.$getResource(this.antenna,"azimuth","0")))}}),methods:{toggleCabinet:function(t){var e=de(this.stationCabinetType),n=e.indexOf(t);n>=0?e.splice(n,1):e.push(t),this.handleStationChanged("cabinetType",e)},handleAMCChanged:function(t,e){this.$store.dispatch("update",{object:this.amc,name:t,value:e+""})},handleAntennaChanged:function(t,e){this.$store.dispatch("update",{object:this.antenna,name:t,value:e+""})},handleStationChanged:function(t,e){this.$store.dispatch("update",{object:this.station,name:t,value:Array.isArray(e)?e:e+""})}}},Te=Oe,Ce=(n("8526"),Object(p["a"])(Te,ie,re,!1,null,"5033eed5",null)),Ae=Ce.exports,we=n("f7fe"),je=n.n(we);function _e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function xe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_e(Object(n),!0).forEach((function(e){Se(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Se(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Re={name:"App",components:{Site:ne,Settings:Ae},watch:{siteData:function(t){var e;this.debouncedUpdateJSON.cancel();try{e=JSON.parse(t)}catch(n){}e=e||{},this.$store.dispatch("setData",e)},sites:function(t){this.debouncedUpdateJSON(t)}},data:function(){return{siteData:""}},created:function(){this.debouncedUpdateJSON=je()(this.updateJSON,300),this.siteData=JSON.stringify(xe({},this.sites),null,2)},computed:xe(xe({},Object(s["c"])(["selectedSite","sites"])),Object(s["b"])(["siteKeys"])),methods:{updateJSON:function(t){var e;try{e=JSON.stringify(t,null,2)}catch(n){}e=e||this.siteData,e!==this.siteData&&"{}"!==e&&(this.siteData=e)}}},Pe=Re,Ne=(n("5c0b"),Object(p["a"])(Pe,r,a,!1,null,null,null)),ke=Ne.exports,De=n("1804");i["a"].use(s["a"]);var Ie=function(t){return JSON.parse(JSON.stringify(t))},Me=function(t,e,n){return{id:t+"",name:"Antenna_RAN",description:"Антенна радиодоступа (прямоугольник на АМС). Сектор "+n,type:"Antenna_RAN",baseType:"Antenna",resourceCharacteristic:[{name:"mountHeight",valueType:"meters",value:"0"},{name:"tiltAngle",valueType:"degree",value:"0"},{name:"azimuth",valueType:"degree",value:"0"}],resourceRelationship:[{id:e+"",relationshipType:"refersTo"}]}},Ee=function(t){var e=t.id,n=t.name,i=t.coverType,r=t.cabinetType;return{id:e+"",description:"Базовая станция",type:"BaseStation",name:n,resourceCharacteristic:[{name:"coverType",value:i||"INDOOR"},{name:"cabinetType",value:r||[]}],resourceRelationship:[]}},$e=function(t){var e=t.id,n=t.constructionType,i=t.groundingType,r=t.height;return{id:e+"",type:"AMC",description:"Антенно-мачтовое сооружение",resourceCharacteristic:[{name:"constructionType",value:n||"REINFORCED_CONCRETE"},{name:"groundingType",value:i||"BUILDING"},{name:"height",value:r||"30"}],resourceRelationship:[]}},He=function(t){return t=t.sort((function(t,e){return+t.id-+e.id})),+((t[t.length-1]||{}).id||0)},Le=function(t,e){var n=(t.resourceRelationship||[]).map((function(t){return t.id}));e.forEach((function(e){if(!(n.indexOf(e.id)<0)){var i=e.resourceRelationship||[];i.push({id:t.id,relationshipType:"refersTo"}),e.resourceRelationship=i}}))},ze=new s["a"].Store({state:{sites:De,selectedStationIndex:0,selectedAntennaIndex:0,selectedSite:"A"},getters:{siteKeys:function(t){return Object.keys(t.sites)},getObjects:function(t,e){return function(t,n){return e.resources.filter((function(e){return t.indexOf(e.id)>=0&&(void 0===n||e.type.toLowerCase()===n.toLowerCase())}))||[]}},resources:function(t){return t.sites[t.selectedSite]||[]},site:function(t,e){return Object.values(e.resources).find((function(t){return"site"===t.type.toLowerCase()}))||{}},stations:function(t,e){var n=e.site,i=(n.resourceRelationship||[]).map((function(t){return t.id}));return e.getObjects(i,"BaseStation")},station:function(t,e){return e.stations[t.selectedStationIndex]||{}},amcs:function(t,e){var n=e.station,i=(n.resourceRelationship||[]).map((function(t){return t.id}));return e.getObjects(i,"AMC")},amc:function(t,e){return e.amcs[0]||{}},antennas:function(t,e){var n=e.station,i=(n.resourceRelationship||[]).map((function(t){return t.id}));return e.getObjects(i,"Antenna_RAN")},antenna:function(t,e){return e.antennas[t.selectedAntennaIndex]||{}}},mutations:{clearData:function(t){i["a"].set(t,"sites",{})},setSite:function(t,e){var n=e.name,r=e.data;i["a"].set(t.sites,n,r)},setSelectedAntenna:function(t,e){t.selectedAntennaIndex=e||0},setStationIndex:function(t,e){t.selectedStationIndex=e||0},setSelectedSite:function(t,e){t.selectedSite=e||"A"}},actions:{setData:function(t,e){t.commit("clearData"),Object.keys(e).forEach((function(n){t.commit("setSite",{name:n,data:e[n]})}))},selectSite:function(t,e){t.commit("setSelectedSite",e)},selectAntenna:function(t,e){t.commit("setSelectedAntenna",e)},selectStation:function(t,e){t.dispatch("selectAntenna",0),t.commit("setStationIndex",e)},removeStation:function(t){var e=t.state,n=t.getters,i=t.dispatch,r=n.station,a=n.getObjects;if(r){var s=(r.resourceRelationship||[]).map((function(t){return t.id})),o=a(s).filter((function(t){return"Site"!==t.type})).map((function(t){return t.id}));o.push(r.id);var c=e.selectedSite,u=Ie(e.sites);u[c]=u[c].filter((function(t){return o.indexOf(t.id)<0})),i("setData",u).then((function(){var t=n.stations;i("selectStation",t.length-1)}))}},createStation:function(t){var e=t.state,n=t.getters,i=t.dispatch,r=n.stations,a=n.site,s=["3G"];Math.random()>=.5&&s.push("2G"),Math.random()>=.5&&s.push("LTE"),Math.random()>=.5&&s.push("5G");var o=He(n.resources)+1,c=o+1,u=$e({id:o,constructionType:Math.random()>=.5?"MAIN_CONCRETE":"REINFORCED_CONCRETE",groundingType:Math.random()>=.5?"GROUND":"BUILDING"});u.resourceRelationship=[{id:a.id+"",relationshipType:"refersTo"},{id:c+"",relationshipType:"refersTo"}];var l=Ee({id:c,name:"Station "+(r.length+1),coverType:Math.random()>=.5?"INDOOR":"OUTDOOR",cabinetType:s});l.resourceRelationship=[{id:a.id+"",relationshipType:"refersTo"},{id:o+"",relationshipType:"refersTo"}];var d=e.selectedSite,h=Ie(e.sites);Le(l,h[d]),h[d].push(l),h[d].push(u),i("setData",h).then((function(){var t=n.stations;i("selectStation",t.length-1)}))},removeAntenna:function(t){var e=t.state,n=t.getters,i=t.dispatch,r=n.antenna,a=n.getObjects;if(r){var s=(r.resourceRelationship||[]).map((function(t){return t.id}));a(s).forEach((function(t){t.resourceRelationship=t.resourceRelationship.filter((function(t){return t.id!==r.id}))}));var o=e.selectedSite,c=Ie(e.sites);c[o]=c[o].filter((function(t){return t.id!==r.id})),i("setData",c).then((function(){var t=n.stations;i("selectAntenna",t.length-1)}))}},createAntenna:function(t){var e=t.state.selectedSite,n=He(t.getters.resources),i=t.getters,r=i.station,a=i.getObjects;if(r){var s=(r.resourceRelationship||[]).map((function(t){return t.id})),o=a(s,"Antenna_RAN"),c=Me(n+1,r.id,o.length+1),u=c.resourceCharacteristic||{};u.forEach((function(e){var n=e.name;switch(n){case"mountHeight":var i=t.getters.amc,r=Fe(i,"height",0);e.value=Je(0,r);break;case"tiltAngle":e.value=Je(0,10);break;case"azimuth":e.value=Je(-360,360);break}}));var l=Ie(t.state.sites);Le(c,l[e]),l[e].push(c),t.dispatch("setData",l).then((function(){var e=t.getters.antennas;t.dispatch("selectAntenna",e.length-1)}))}},update:function(t,e){var n=t.state,i=(t.getters,t.dispatch),r=e.object,a=e.name,s=e.value,o=n.selectedSite,c=n.sites;c=Ie(c),r=Ie(r),Ke(r,a,s);var u=c[o].findIndex((function(t){return t.id===r.id}));u<0||(c[o][u]=r,i("setData",c))}}});function Ge(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Ue(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){o=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw a}}}}function Ue(t,e){if(t){if("string"===typeof t)return Be(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(t,e):void 0}}function Be(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}i["a"].config.productionTip=!1;var Xe=["rgb(17, 223, 113)","rgb(255, 185, 50)","rgb(186, 185, 255)"],Je=function(t,e){return t=t||0,e=e||256,t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t},Fe=i["a"].prototype.$getResource=function(t,e,n){t=t||{};var i,r=t.resourceCharacteristic||[],a=Ge(r);try{for(a.s();!(i=a.n()).done;){var s=i.value,o=s.name,c=s.value;if(o===e)return c}}catch(u){a.e(u)}finally{a.f()}return n},Ke=function(t,e,n){t=t||{};var i,r=t.resourceCharacteristic||[],a=Ge(r);try{for(a.s();!(i=a.n()).done;){var s=i.value,o=s.name;if(o===e){s.value=n;break}}}catch(c){a.e(c)}finally{a.f()}};i["a"].prototype.$getColor=function(t){var e=Xe[t];return e||(e=Xe[t]="rgb(".concat(Je(),", ").concat(Je(),", ").concat(Je(),")")),e},new i["a"]({store:ze,render:function(t){return t(ke)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var i=n("9c0c"),r=n.n(i);r.a},"67ce":function(t,e,n){},"74bd":function(t,e,n){},8526:function(t,e,n){"use strict";var i=n("9274"),r=n.n(i);r.a},9274:function(t,e,n){},9961:function(t,e,n){},"9c0c":function(t,e,n){},a93a:function(t,e,n){},ba70:function(t,e,n){"use strict";var i=n("67ce"),r=n.n(i);r.a},c905:function(t,e,n){}});
//# sourceMappingURL=app.84626664.js.map